<form class="p-fluid" [formGroup]="registroTramiteForm" autocomplete="off">

    <div class="row mb-3">
        <div class="col-lg-6 col-md-12">
            <label class="fbs-roboto-300">
                Cédula del Cliente
                <span class="text-danger">*</span>
            </label>
            <div class="p-inputgroup">
                <input type="text" #inputCedula pInputText pAutoFocus [autofocus]="true" formControlName="CEDULA"
                    (keyup.enter)="buscar()">

                <span class="p-inputgroup-addon"><i class="pi pi-search" (click)="buscar()"></i></span>
            </div>
            <small class="p-error block" *ngIf="esInvalido('CEDULA')">
                <i class="pi pi-exclamation-circle"></i>
                Ingrese una cédula válida
            </small>
        </div>
        <div class="col-lg-6 col-md-12">
            <label class="fbs-roboto-300">Tipo de Afiliación</label>
            <span class="p-float-label">
                <input class="form-control shadow disabled" type="text" pInputText formControlName="TIPO_CLIENTE">
            </span>
        </div>
    </div>

    <div class="row mb-3">
        <div class="col-lg-4 col-md-12">
            <label class="fbs-roboto-300" for="float-input">
                Nombre
                <span class="text-danger">*</span>
            </label>
            <input id="float-input" type="text" pInputText formControlName="NOMBRE"
                class="form-control shadow disabled">
        </div>
        <div class="col-lg-4 col-md-12">
            <label class="fbs-roboto-300" for="float-input">
                Primer Apellido
                <span class="text-danger">*</span>
            </label>

            <input id="float-input" type="text" pInputText formControlName="APELLIDO_1"
                class="form-control shadow disabled">
        </div>
        <div class="col-lg-4 col-md-12">
            <label class="fbs-roboto-300" for="float-input">
                Segundo Apellido
            </label>

            <input id="float-input" type="text" pInputText formControlName="APELLIDO_2" class="form-control shadow"
                placeholder="Opcional">
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-lg-6 col-md-12">
            <label class="fbs-roboto-300" for="float-input">
                Área
                <span class="text-danger">*</span>
            </label>
            <p-dropdown [options]="nombreAreas" formControlName="AREA" optionLabel="NOMBRE_AREA" optionValue="ID_AREA"
                placeholder="Seleccione un área" (onChange)="obtenerIdArea($event)" >

            </p-dropdown>
            <small class="p-error block" *ngIf="esInvalido('AREA')">
                <i class="pi pi-exclamation-circle"></i>
                El área es obligatoria
            </small>
        </div>
        <div class="col-lg-6 col-md-12">
            <label class="fbs-roboto-300" for="float-input">
                Trámite Realizado
                <span class="text-danger">*</span>
            </label>
            <p-dropdown #selectTramites [options]="nombreTramites" [editable]="false"
                formControlName="TRAMITE" optionLabel="NOMBRE_TRAMITE" optionValue="ID_TRAMITE"
                placeholder="Seleccione un trámite">
            </p-dropdown>
            <small class="p-error block" *ngIf="esInvalido('TRAMITE')">
                <i class="pi pi-exclamation-circle"></i>
                Favor seleccionar el trámite realizado
            </small>
        </div>
    </div>

    <div class="row mb-2">
        <div class="col-lg-12 col-md-12">

            <label class="fbs-roboto-300">Descripción</label>
            <textarea rows="3" cols="30" pInputTextarea [autoResize]="true" formControlName="DESCRIPCION"
                placeholder="Opcional"></textarea>
        </div>
    </div>

    <div class="row mb-1">
        <div class="col">
            <div class="row float-end">
                <div class="col">
                    <p-button label="Limpiar" styleClass="p-button-danger" icon="pi pi-trash"
                        (click)="limpiarFormulario()"></p-button>
                </div>
                <div class="col">
                    <p-button label="Registrar" styleClass="p-button-warning" icon="pi pi-check"
                        (click)="confirmar()"></p-button>
                </div>
            </div>
        </div>
    </div>

</form>

<!-- Componentes necesarios -->
<app-cr-regsitro-tramite (resetForm)="resetearFormulario()"></app-cr-regsitro-tramite>